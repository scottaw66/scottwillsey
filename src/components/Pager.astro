---
const { page } = Astro.props;
const firstOffset = page.currentPage > 1 ? page.currentPage - 1 : 0;
const lastOffset =
  page.currentPage < page.lastPage ? page.lastPage - page.currentPage : 0;
---

<nav id="pager" class="flex items-center justify-center gap-2 mx-auto w-fit bg-[var(--surface-menu)] p-2 rounded-lg">
  {
    firstOffset > 1 ? (
      <div class="px-3 py-1 rounded-[20%] hover:bg-[var(--pager-hover)] hover:font-bold">
        <a href="/1" class="no-underline hover:text-[var(--text3)]">&lt;&lt;</a>
      </div>
    ) : null
  }
  {
    page.url.prev ? (
      <>
        <div class="px-3 py-1 rounded-[20%] hover:bg-[var(--pager-hover)] hover:font-bold">
          <a href={page.url.prev} class="no-underline hover:text-[var(--text3)]">&lt;</a>
        </div>
        <div class="px-3 py-1 rounded-[20%] hover:bg-[var(--pager-hover)] hover:font-bold">
          <a href={page.url.prev} class="no-underline hover:text-[var(--text3)]">{page.currentPage - 1}</a>
        </div>
      </>
    ) : null
  }
  <div class="px-3 py-1 rounded-[20%] bg-[var(--pager-current)] text-[var(--pager-current-text)]">{page.currentPage}</div>
  {
    page.url.next ? (
      <>
        <div class="px-3 py-1 rounded-[20%] hover:bg-[var(--pager-hover)] hover:font-bold">
          <a href={page.url.next} class="no-underline hover:text-[var(--text3)]">{page.currentPage + 1}</a>
        </div>
        <div class="px-3 py-1 rounded-[20%] hover:bg-[var(--pager-hover)] hover:font-bold">
          <a href={page.url.next} class="no-underline hover:text-[var(--text3)]">&gt;</a>
        </div>
      </>
    ) : null
  }
  {
    lastOffset > 1 ? (
      <div class="px-3 py-1 rounded-[20%] hover:bg-[var(--pager-hover)] hover:font-bold">
        <a href={`/${page.lastPage}`} class="no-underline hover:text-[var(--text3)]">&gt;&gt;</a>
      </div>
    ) : null
  }
</nav>
